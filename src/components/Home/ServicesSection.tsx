"use client";

import { ReactNode } from "react";
import { motion } from "framer-motion";
import { useTranslation } from "react-i18next";

interface ServiceCardProps {
  icon: ReactNode;
  title: string;
  description: string;
  highlight?: boolean;
  HoverIcon: ReactNode;
}

const ServiceCard = ({
  icon: DefaultIcon,
  title,
  description,
  highlight,
  HoverIcon,
}: ServiceCardProps) => {
  return (
    <div
      className={`relative  shadow-md bg-white rounded-3xl p-4 md:p-6
                flex flex-col items-center justify-center text-center gap-1 md:gap-4 group 
                transition-all duration-500 ease-in-out
                hover:shadow-[0_0_40px_rgba(0,0,0,0.1)]
                hover:bg-primary hover:scale-[1.02]
                cursor-pointer
                hover:border-white/10`}
    >
      {highlight && (
        <div className="absolute bottom-[95%] left-[8%]  z-20 flex items-center gap-2">
          {/* Arrow image - adjust top/left positioning */}
          <img
            src="/arrow-30.svg"
            alt="Discount"
            className="w-10 h-10 drop-shadow-lg"
          />

          {/* Container for 30% and "off" text - adjust positioning relative to arrow */}
          <div className="absolute -top-4 -left-16 z-20 flex flex-col items-end space-y-2">
            {/* 30% image */}
            <img
              src="/30per.svg"
              className="w-14 relative top-[-10px]"
              alt="30 percent"
            />

            {/* "OFF" text */}
            <div className="absolute top-[50%]">
              <img src="/OFF.png" alt="" />
            </div>
          </div>
        </div>
      )}

      <div className="relative z-10 inline-flex">
        <div className=" rounded-xl transition-all duration-500 ease-in-out ">
          {/* <div
            className="w-12 h-12 
                    [&>svg]:w-full [&>svg]:h-full 
                    [&>svg]:text-primary group-hover:[&>svg]:stroke-white 
                    transition-colors duration-500 "
          >
            {Icon}
          </div> */}
          <div className="flex group-hover:hidden   justify-center items-center ">
            {DefaultIcon}
          </div>

          {/* Hover icon */}
          <div className="hidden group-hover:flex w-[66px] h-[66px] justify-center items-center">
            {HoverIcon}
          </div>
        </div>
      </div>

      <h3
        className={` text-xl font-bold text-gray1 relative ${
          title.trim() == "Consultations" ? "top-[12px]" : ""
        } z-10 group-hover:text-white transition-colors duration-500`}
      >
        {title}
      </h3>

      <p className="text-gray1 text-sm leading-relaxed relative z-10 group-hover:text-white/80 transition-colors duration-500">
        {description}
      </p>
    </div>
  );
};

const ServicesSection = () => {
  const { t } = useTranslation();

  const services = [
    {
      HoverIcon: <img src="/tutor-white.svg"></img>,
      DefaultIcon: (
        <svg
          width="60"
          height="60"
          viewBox="0 0 60 60"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          className="w-[60px] h-[60px]"
        >
          <path
            d="M18.8071 8.20203C23.0495 8.20221 26.5746 11.9849 26.5747 16.7274C26.5747 18.7867 25.9057 20.6732 24.7983 22.1444L24.4868 22.5575L24.9106 22.8544C27.4908 24.6621 29.5895 27.6052 30.8179 31.1884L31.0767 31.9432L31.6431 31.3817C32.7129 30.3216 34.0166 29.4983 35.4683 28.9969L36.4116 28.6708L35.5864 28.1102C34.0794 27.0873 33.0894 25.362 33.0894 23.411C33.0894 20.2844 35.6369 17.7393 38.7642 17.7391C41.8912 17.7391 44.4369 20.284 44.437 23.411C44.437 25.3587 43.4506 27.0818 41.9487 28.1053L41.1235 28.6669L42.0679 28.9911C43.4824 29.4765 44.7782 30.279 45.8755 31.3641L46.022 31.5077H54.0815C54.196 31.5077 54.3017 31.5697 54.3589 31.6688C54.4161 31.7678 54.4161 31.8901 54.3589 31.9891L51.1772 37.4979L50.7437 38.2479H56.0044C57.3657 38.2479 58.4739 39.3564 58.4741 40.7177V42.8641C58.4741 43.0411 58.3308 43.1844 58.1538 43.1844H54.6606V49.4911C54.6606 50.7621 53.625 51.7976 52.3511 51.7977H7.64893C6.37494 51.7977 5.33838 50.7622 5.33838 49.4911V43.1844H1.84521C1.66845 43.1844 1.52496 43.0411 1.5249 42.8641V40.7177C1.52514 39.3564 2.63338 38.2479 3.99463 38.2479H5.59619L5.61279 37.7655C5.82763 31.4127 8.56919 25.7434 12.7026 22.8544L13.1265 22.5585L12.8159 22.1444C11.7086 20.6732 11.0386 18.7867 11.0386 16.7274C11.0387 11.9848 14.5646 8.20203 18.8071 8.20203ZM5.97998 49.4911C5.98004 50.4114 6.72943 51.1571 7.64893 51.1571H52.3511C53.2706 51.1571 54.02 50.4114 54.02 49.4911V43.1844H5.97998V49.4911ZM3.99463 38.8895C2.98594 38.8897 2.16668 39.709 2.1665 40.7177V42.5438H57.8335V40.7177C57.8333 39.709 57.014 38.8896 56.0054 38.8895H3.99463ZM13.2534 23.2538C9.11935 26.023 6.47416 31.5853 6.25342 37.7303L6.23486 38.2479H28.6362L28.6714 37.786C28.813 35.9433 29.4506 34.2375 30.4507 32.8007L30.5864 32.6053L30.521 32.3768C29.3885 28.4386 27.1882 25.153 24.3618 23.2538L24.0366 23.035L23.7466 23.2977C22.3981 24.5202 20.6762 25.2499 18.8071 25.2499C16.9405 25.2499 15.221 24.5227 13.8735 23.3036L13.5923 23.0272L13.2534 23.2538ZM38.7642 29.0868C33.8269 29.087 29.7607 32.8786 29.3218 37.703L29.272 38.2479H41.5122L41.6577 38.0038L45.1587 32.1083L45.3687 31.7548L45.061 31.4803C43.3258 29.9326 41.118 29.0868 38.7642 29.0868ZM45.7349 32.3944L42.7065 37.493L42.2573 38.2479H50.0034L50.1479 37.9979L53.0933 32.8993L53.5269 32.1493H45.8794L45.7349 32.3944ZM38.7642 18.3798C35.9884 18.38 33.73 20.6364 33.73 23.411C33.73 26.1874 35.99 28.445 38.7642 28.4452C41.5391 28.4452 43.7954 26.185 43.7954 23.411C43.7953 20.6367 41.5406 18.3798 38.7642 18.3798ZM18.8071 8.84265C14.8273 8.84265 11.6803 12.4338 11.6802 16.7274C11.6802 21.0214 14.8275 24.6083 18.8071 24.6083C22.7866 24.6082 25.9341 21.0234 25.9341 16.7274C25.934 12.4318 22.787 8.8427 18.8071 8.84265Z"
            fill="#0056B1"
            stroke="#0056B1"
          />
        </svg>
      ),
      title: t("home.20-service1-1"),
      description: t("home.20-service1-2"),
    },
    {
      HoverIcon: <img src="/elearning-white.svg"></img>,
      DefaultIcon: (
        <img src="/elearning-blue.svg" alt="" className="w-[60px] h-[60px]" />
      ),
      highlight: true,
      title: t("home.20-service2-1"),
      description: t("home.20-service2-2"),
    },
    {
      HoverIcon: <img src="/people-white.svg"></img>,
      DefaultIcon: (
        <svg
          width="52"
          height="40"
          viewBox="0 0 52 40"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          className="w-[60px] h-[60px]"
        >
          <g clip-path="url(#clip0_206_207)">
            <path
              d="M15.0596 0C9.30644 0 4.64258 4.62549 4.64258 10.3313C4.64258 14.1785 6.76334 17.5351 9.90882 19.3127C11.4283 20.1718 13.1856 20.6625 15.0596 20.6625C16.9312 20.6603 18.6874 20.1696 20.2046 19.3116C23.3501 17.5328 25.472 14.1785 25.4765 10.3313C25.4765 4.62549 20.8127 0 15.0596 0ZM15.0596 18.4166C10.5565 18.4166 6.90714 14.7962 6.90714 10.3313C6.90714 5.86637 10.5565 2.24593 15.0596 2.24593C19.5604 2.25042 23.2063 5.86749 23.212 10.3313C23.212 14.7962 19.5615 18.4166 15.0596 18.4166Z"
              fill="#0056B1"
            />
            <path
              d="M27.4431 24.8501C27.0072 24.2268 26.5248 23.6384 26.0006 23.0893C24.4063 21.4183 22.4271 20.1123 20.2044 19.3116C18.5988 18.7322 16.8665 18.4166 15.0593 18.4166C13.2522 18.4166 11.5153 18.7333 9.90859 19.3128C4.1283 21.3992 0 26.8973 0 33.3521V38.877C0 39.4969 0.507262 40 1.13228 40H28.9864C29.6114 40 30.1187 39.4969 30.1187 38.877V33.3521C30.1187 30.1932 29.1302 27.2633 27.4431 24.8501ZM2.26456 37.7541V33.3521C2.26456 26.3436 7.99277 20.6626 15.0593 20.6626C18.8287 20.6626 22.2165 22.2785 24.5569 24.8501C25.097 25.4419 25.5805 26.0842 26.0006 26.7692C27.177 28.6884 27.8541 30.9422 27.8541 33.3521V37.7541H2.26456Z"
              fill="#0056B1"
            />
            <path
              d="M36.9404 0C31.1873 0 26.5234 4.62549 26.5234 10.3313C26.5234 14.1785 28.6442 17.5351 31.7908 19.3127C33.3092 20.1718 35.0676 20.6625 36.9404 20.6625C38.8121 20.6603 40.5682 20.1696 42.0855 19.3116C45.231 17.5328 47.3529 14.1785 47.3574 10.3313C47.3574 4.62549 42.6935 0 36.9404 0ZM36.9404 18.4166C32.4385 18.4166 28.788 14.7962 28.788 10.3313C28.788 5.86637 32.4385 2.24593 36.9404 2.24593C41.4412 2.25042 45.0883 5.86749 45.0928 10.3313C45.0928 14.7962 41.4424 18.4166 36.9404 18.4166Z"
              fill="#0056B1"
            />
            <path
              d="M42.0858 19.3116C40.4802 18.7322 38.7478 18.4166 36.9407 18.4166C35.1336 18.4166 33.3978 18.7322 31.7911 19.3128C29.5695 20.1145 27.5926 21.4194 26.0006 23.0893C25.4752 23.6384 24.9929 24.2268 24.5569 24.8501C25.097 25.4419 25.5805 26.0842 26.0006 26.7692C26.4195 26.0842 26.903 25.4419 27.4431 24.8501C29.7835 22.2785 33.1713 20.6626 36.9407 20.6626C44.0072 20.6626 49.7355 26.3436 49.7355 33.3521V37.7541H21.8813V38.877C21.8813 39.4969 22.3886 40 23.0136 40H50.8677C51.4928 40 52 39.4969 52 38.877V33.3521C52 26.895 47.8695 21.3959 42.0858 19.3116Z"
              fill="#0056B1"
            />
          </g>
          <defs>
            <clipPath id="clip0_206_207">
              <rect width="52" height="40" fill="white" />
            </clipPath>
          </defs>
        </svg>
      ),
      title: t("home.20-service3-1"),
      description: t("home.20-service3-2"),
    },
    {
      HoverIcon: <img src="/lamp-white.svg"></img>,
      DefaultIcon: (
        <svg
          width="52"
          height="52"
          viewBox="0 0 52 52"
          fill="none"
          className="w-[60px] h-[60px]"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g clip-path="url(#clip0_206_186)">
            <path
              d="M29.2502 52H22.7502C21.2335 52 19.5002 50.7 19.5002 48.1V43.55C19.5002 41.3833 18.4168 39.4333 16.6835 37.9166C12.7835 34.8833 10.8335 30.55 10.8335 25.7833C11.0502 17.55 17.7668 11.05 25.7835 10.8333C29.9002 10.8333 33.8002 12.35 36.6168 15.1666C39.4335 17.9833 41.1668 21.8833 41.1668 26C41.1668 30.55 39.2168 34.8833 35.5335 37.7C33.5835 39.2166 32.5002 41.6 32.5002 43.7666V48.75C32.5002 50.4833 30.9835 52 29.2502 52ZM26.0002 13C19.0668 13 13.2168 18.85 13.0002 25.7833C13.0002 29.9 14.7335 33.8 17.9835 36.1833C20.3668 38.1333 21.6668 40.7333 21.6668 43.55V48.1C21.6668 48.5333 21.6668 49.8333 22.7502 49.8333H29.2502C29.9002 49.8333 30.3335 49.4 30.3335 48.75V43.7666C30.3335 40.95 31.8502 37.9166 34.2335 35.9666C37.2668 33.5833 39.0002 29.9 39.0002 26C39.0002 22.5333 37.7002 19.2833 35.1002 16.6833C32.7168 14.3 29.4668 13 26.0002 13Z"
              fill="#0056B1"
            />
            <path
              d="M31.4167 45.5H20.5833C19.9333 45.5 19.5 45.0666 19.5 44.4166C19.5 43.7666 19.9333 43.3333 20.5833 43.3333H31.4167C32.0667 43.3333 32.5 43.7666 32.5 44.4166C32.5 45.0666 32.0667 45.5 31.4167 45.5Z"
              fill="#0056B1"
            />
            <path
              d="M25.9998 6.5C25.3498 6.5 24.9165 6.06667 24.9165 5.41667V1.08333C24.9165 0.433333 25.3498 0 25.9998 0C26.6498 0 27.0832 0.433333 27.0832 1.08333V5.41667C27.0832 6.06667 26.6498 6.5 25.9998 6.5Z"
              fill="#0056B1"
            />
            <path
              d="M40.5169 12.5666C40.3002 12.5666 39.8669 12.5666 39.6502 12.35C39.2169 11.9166 39.2169 11.2666 39.6502 10.8333L42.6835 7.79998C43.1169 7.36664 43.7669 7.36664 44.2002 7.79998C44.6335 8.23331 44.6335 8.88331 44.2002 9.31664L41.1669 12.35C41.1669 12.35 40.7335 12.5666 40.5169 12.5666Z"
              fill="#0056B1"
            />
            <path
              d="M50.9167 27.0834H46.5833C45.9333 27.0834 45.5 26.65 45.5 26C45.5 25.35 45.9333 24.9167 46.5833 24.9167H50.9167C51.5667 24.9167 52 25.35 52 26C52 26.65 51.5667 27.0834 50.9167 27.0834Z"
              fill="#0056B1"
            />
            <path
              d="M43.5502 44.6334C43.3335 44.6334 42.9002 44.6334 42.6835 44.4167L39.6502 41.3834C39.2169 40.95 39.2169 40.3 39.6502 39.8667C40.0835 39.4334 40.7335 39.4334 41.1669 39.8667L44.2002 42.9C44.6335 43.3334 44.6335 43.9834 44.2002 44.4167C44.2002 44.6334 43.9835 44.6334 43.5502 44.6334Z"
              fill="#0056B1"
            />
            <path
              d="M8.44997 44.6334C8.2333 44.6334 7.79997 44.6334 7.5833 44.4167C7.14997 43.9834 7.14997 43.3334 7.5833 42.9L10.6166 39.8667C11.05 39.4334 11.7 39.4334 12.1333 39.8667C12.5666 40.3 12.5666 40.95 12.1333 41.3834L9.09997 44.4167C8.8833 44.6334 8.66663 44.6334 8.44997 44.6334Z"
              fill="#0056B1"
            />
            <path
              d="M5.41667 27.0834H1.08333C0.433333 27.0834 0 26.65 0 26C0 25.35 0.433333 24.9167 1.08333 24.9167H5.41667C6.06667 24.9167 6.5 25.35 6.5 26C6.5 26.65 6.06667 27.0834 5.41667 27.0834Z"
              fill="#0056B1"
            />
            <path
              d="M11.4833 12.5667C11.2666 12.5667 10.8333 12.5667 10.6166 12.35L7.5833 9.10003C7.14997 8.66669 7.14997 8.0167 7.5833 7.58336C8.01663 7.15003 8.66663 7.15003 9.09997 7.58336L12.1333 10.6167C12.5666 11.05 12.5666 11.7 12.1333 12.1334C11.9166 12.35 11.7 12.5667 11.4833 12.5667Z"
              fill="#0056B1"
            />
            <path
              d="M34.6665 27.0833C34.0165 27.0833 33.5832 26.65 33.5832 26C33.5832 21.8833 30.1165 18.4167 25.9998 18.4167C25.3498 18.4167 24.9165 17.9833 24.9165 17.3333C24.9165 16.6833 25.3498 16.25 25.9998 16.25C31.4165 16.25 35.7498 20.5833 35.7498 26C35.7498 26.65 35.3165 27.0833 34.6665 27.0833Z"
              fill="#0056B1"
            />
          </g>
          <defs>
            <clipPath id="clip0_206_186">
              <rect width="52" height="52" fill="white" />
            </clipPath>
          </defs>
        </svg>
      ),
      title: t("home.20-service4-1"),
      description: t("home.20-service4-2"),
    },
  ];

  return (
    <motion.div
      initial={{ scale: 0.8, opacity: 0 }}
      whileInView={{ scale: 1, opacity: 1 }}
      transition={{ duration: 0.8 }}
      viewport={{ once: true }}
      className="relative w-full py-10"
    >
      <div className="mx-auto max-w-6xl ">
        <div className="text-center mb-10 max-w-sm md:max-w-md mx-auto">
          <div className="inline-block relative">
            <h3 className="text-3xl lg:text-3xl font-bold text-primary leading-tight">
              {t("home.20-heading1")}
            </h3>
            <img
              src="/line.svg"
              alt="Vector line"
              className="w-[75%] mx-auto mt-2"
            />
          </div>

          <span className="text-gray1 text-[18px] mt-6 block  mx-auto">
            {t("home.20-heading2")}{" "}
          </span>
        </div>

        <div className="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-8 px-5">
          {services.map((service, index) => (
            <ServiceCard
              HoverIcon={service.HoverIcon}
              key={index}
              icon={service.DefaultIcon}
              title={service.title}
              description={service.description}
              highlight={service.highlight}
            />
          ))}
        </div>
      </div>
    </motion.div>
  );
};

export default ServicesSection;
